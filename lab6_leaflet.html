<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8' />
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        
        <link rel='stylesheet' href='https://unpkg.com/leaflet@1.7.1/dist/leaflet.css'
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="        crossorigin=''/>
        <script src='https://unpkg.com/leaflet@1.7.1/dist/leaflet.js'
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin="">
        </script>
        <script src='javascript/secret_keys.js'></script>
        <link rel='stylesheet' type='text/css' href='css/map_style.css'>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/opencagedata/leaflet-opencage-search@d4cbd36122efc8d17152b4177ed0e12165305441/dist/css/L.Control.OpenCageData.Search.min.css" />
        <script src="https://cdn.jsdelivr.net/gh/opencagedata/leaflet-opencage-search@d4cbd36122efc8d17152b4177ed0e12165305441/dist/js/L.Control.OpenCageSearch.min.js"></script>
    </head>
    <body>
        <h3 style='text-align: center;'>Geocoding Map</h3>
        <div id='mapid' style='width: 600px; height: 400px; margin: auto;'>
            <script>
                var mymap = L.map('mapid');
                var options = {
                    key: geocoder_api_key,
                    limit: 10
                };
                var control = L.Control.openCageSearch(options).addTo(mymap);
                /* MAPBOX TILE LAYER
                L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
                    maxZoom: 18,
                    id: 'mapbox/satellite-streets-v11',
                    accessToken: mapbox_access_token,
                }).addTo(mymap);
                */
               
                // comment out for question 2
                L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                }).addTo(mymap);
               
            //    exercise for question 2
            //    L.tileLayer('https://c.tile.opentopomap.org/3/1/2.png', {
            //     }).addTo(mymap);
                /*
                // add a marker
                var marker = L.marker([51.5, -0.09]).addTo(mymap);

                // add a circle
                var circle = L.circle([51.508, -0.11], {
                    color: 'red',
                    fillColor: '#f03',
                    fillOpacity: 0.5,
                    radius: 500,
                }).addTo(mymap);

                // add a polygon
                var polygon = L.polygon([
                    [51.509, -0.08],
                    [51.503, -0.06],
                    [51.51, -0.047]
                ]).addTo(mymap);

                var polyline = L.polyline([
                    [51.506, -0.08],
                    [51.502, -0.06],
                    [51.507, -0.047],
                ], {color: 'red'}).addTo(mymap);

                // add popup windows for each object
                marker.bindPopup('<b>Hello world!</b><br>I am a popup.').openPopup();
                circle.bindPopup('I am a circle.');
                polygon.bindPopup('I am a polygon.');

                // change the zoom on click for each object
                marker.on('click', function(e) {
                    mymap.setView(e.latlng, 14);
                });

                circle.on('click', function (e) {
                    mymap.setView(e.latlng, 13);
                });

                polygon.on('click', function (e) {
                    mymap.setView(e.latlng, 13);
                });

                var ZoomViewer = L.Control.extend({
                    onAdd: function() {
                        var gauge = L.DomUtil.create('div');
                        gauge.style.width = '200px';
                        gauge.style.background = 'rgba(255, 255, 255, 0.5)';
                        gauge.style.textAlign = 'left';
                        mymap.on('zoomstart zoom zoomend', function(ev) {
                            gauge.innerHTML = 'Zoom level: ' + mymap.getZoom();
                        })
                        return gauge;
                    }
                });

                (new ZoomViewer).addTo(mymap);
                */
                mymap.setView([0, 0], 1);
            </script>  
        </div>
    </body>
</html>